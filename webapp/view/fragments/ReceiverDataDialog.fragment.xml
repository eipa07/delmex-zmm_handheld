<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core">
    <Dialog
        id="ReceiveDataDialog"
        title="{i18n>position.materialDestination}"
        contentHeight="auto"
        contentWidth="auto"
        afterClose="">

        <VBox class="sapUiSmallMargin">
            
            <HBox class="sapUiResponsiveMargin sapUiSizeCompact"> 
                <Label text="{i18n>position.IssuingOrReceivingPlant}" width="10em"/>
                <!-- <Input id="centroInput_Destino"
                       placeholder="{i18n>position.centro.placeholder}"
                       width="15em"
                       value="{localModel>/DataPosition/IssuingOrReceivingPlant}"
                       editable="{oDisplayModel>/Posiciones/IssuingOrReceivingPlant}"/>    -->  
                       <Select
                    id="centroInput_Destino"
                    width="15em"
                    items="{PlantDestinoModel>/}"
                    selectedKey="{localModel>/DataPosition/IssuingOrReceivingPlant}"
                    tooltip="{localModel>/DataPosition/IssuingOrReceivingPlant} - {localModel>/DataPosition/IssuingOrReceivingPlant}"
                    editable="{oDisplayModel>/Posiciones/IssuingOrReceivingPlant}"
                    change="onchangeCentroDestino"
                >
                    <core:Item
                        key="{PlantDestinoModel>Plant}"
                        text="{PlantDestinoModel>Plant} - {PlantDestinoModel>Name}"
                    />
                </Select> 
            </HBox>

          <HBox class="sapUiResponsiveMargin sapUiSizeCompact">
                <Label text="{i18n>position.IssuingOrReceivingStorageLoc}" width="10em"/>
                <!-- <Input id="almacenInput_Destino"
                       placeholder="{i18n>position.almacen.placeholder}"
                       width="15em"
                       value="{localModel>/DataPosition/IssuingOrReceivingStorageLoc}"/> -->
                 <Select
                    id="almacenInput_Destino"
                    width="15em"
                    items="{LocationModel>/}"
                    selectedKey="{localModel>/DataPosition/IssuingOrReceivingStorageLoc}"
                    tooltip="{localModel>/DataPosition/IssuingOrReceivingStorageLoc} - {localModel>/DataPosition/IssuingOrReceivingStorageLoc}"
                    required="true"
                    editable="{oDisplayModel>/Posiciones/IssuingOrReceivingStorageLoc}"
                >
                    <core:Item
                        key="{LocationModel>StorageLocation}"
                        text="{LocationModel>StorageLocation} - {LocationModel>StorageLocationName}"
                    />
                </Select>
            </HBox>

         <HBox class="sapUiResponsiveMargin sapUiSizeCompact">
            <Label text="{i18n>position.material}" width="9.5em"/>
            <Input id="materialInput_Destino"
                placeholder="{= ${localModel>/ReferenceItemSelected/material} ? ${localModel>/ReferenceItemSelected/material} : ${i18n>position.material.placeholder}}"
                class="sapUiTinyMarginBeginEnd"
                value="{localModel>/DataPosition/IssgOrRcvgMaterial}"
                width="15em"
                submit="onBuscarDetalleDestino"
                liveChange="onLiveChangeMaterialDestino"/>
            </HBox>

             <HBox class="sapUiResponsiveMargin sapUiSizeCompact">
                <Label text="{i18n>position.lote}" width="9.5em"/>
                <Input id="loteInput_Destino"
                       placeholder="{i18n>position.lote.placeholder}"
                       class="sapUiTinyMarginBeginEnd"
                       width="15em"
                       value="{localModel>/DataPosition/IssgOrRcvgBatch}"
                       submit="onBuscarDetalleDestino"
                       liveChange="onLiveChangeLoteDestino"
                       editable="{oDisplayModel>/Posiciones/lote}"/>
            </HBox>

        </VBox>

        <beginButton>

           <Button  text="{i18n>position.contabilizar}" press=".onCreateMov" type="Accept" />
        </beginButton>
        <endButton>
           <Button  text="{i18n>referenceItemsDialogClose}" press=".onCloseDestinationDialog"/>

        </endButton>

    </Dialog>
</core:FragmentDefinition>
