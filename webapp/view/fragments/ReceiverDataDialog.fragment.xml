<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:form="sap.ui.layout.form"
  xmlns:l="sap.ui.layout">

  <Dialog
      id="ReceiveDataDialog"
      title="{i18n>position.materialDestination}"
      contentWidth="auto"
      contentHeight="auto">

    <form:SimpleForm
        id="receiveDataSimpleForm"
        class="sapUiSmallMargin"
        editable="true"
        layout="ResponsiveGridLayout"
        labelSpanS="12" labelSpanM="12" labelSpanL="12"
        adjustLabelSpan="false"
        emptySpanS="0" emptySpanM="0" emptySpanL="0"
        columnsS="1" columnsM="1" columnsL="1">

      <!-- Centro destino -->
      <Label text="{i18n>position.IssuingOrReceivingPlant}"/>
      <Select id="centroInput_Destino"
              width="90%"
              items="{PlantDestinoModel>/}"
              selectedKey="{localModel>/DataPosition/IssuingOrReceivingPlant}"
              tooltip="{localModel>/DataPosition/IssuingOrReceivingPlant} - {localModel>/DataPosition/IssuingOrReceivingPlant}"
              editable="{oDisplayModel>/Posiciones/IssuingOrReceivingPlant}"
              change="onchangeCentroDestino">
        <core:Item key="{PlantDestinoModel>Plant}" text="{PlantDestinoModel>Plant} - {PlantDestinoModel>Name}"/>
      </Select>

      <!-- AlmacÃ©n destino -->
      <Label text="{i18n>position.IssuingOrReceivingStorageLoc}"/>
      <Select id="almacenInput_Destino"
              width="90%"
              items="{LocationModel>/}"
              selectedKey="{localModel>/DataPosition/IssuingOrReceivingStorageLoc}"
              tooltip="{localModel>/DataPosition/IssuingOrReceivingStorageLoc} - {localModel>/DataPosition/IssuingOrReceivingStorageLoc}"
              required="true"
              editable="{oDisplayModel>/Posiciones/IssuingOrReceivingStorageLoc}">
        <core:Item key="{LocationModel>StorageLocation}" text="{LocationModel>StorageLocation} - {LocationModel>StorageLocationName}"/>
      </Select>

      <!-- Material -->
      <Label text="{i18n>position.material}"/>
      <Input id="materialInput_Destino"
             width="90%"
             placeholder="{= ${localModel>/ReferenceItemSelected/material} ? ${localModel>/ReferenceItemSelected/material} : ${i18n>position.material.placeholder}}"
             value="{localModel>/DataPosition/IssgOrRcvgMaterial}"
             submit="onBuscarDetalleDestino"
             liveChange="onLiveChangeMaterialDestino"/>

      <!-- Lote -->
      <Label text="{i18n>position.lote}"/>
      <Input id="loteInput_Destino"
             width="90%"
             placeholder="{i18n>position.lote.placeholder}"
             value="{localModel>/DataPosition/IssgOrRcvgBatch}"
             submit="onBuscarDetalleDestino"
             liveChange="onLiveChangeLoteDestino"
             editable="{oDisplayModel>/Posiciones/lote}"/>
    </form:SimpleForm>

    <beginButton>
      <Button text="{i18n>position.contabilizar}" type="Accept" press=".onCreateMov"/>
    </beginButton>
    <endButton>
      <Button text="{i18n>referenceItemsDialogClose}" press=".onCloseDestinationDialog"/>
    </endButton>
  </Dialog>
</core:FragmentDefinition>
