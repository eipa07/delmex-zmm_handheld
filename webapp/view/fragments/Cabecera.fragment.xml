<core:FragmentDefinition
  xmlns="sap.m"
  xmlns:core="sap.ui.core"
  xmlns:i18n="sap.ui.model.resource.ResourceModel"
  xmlns:form="sap.ui.layout.form"
  xmlns:l="sap.ui.layout"
>
  <!-- Contenedor responsivo: 1 columna en S; 1 en M; 1 en L (puedes subir a 2 si quieres en tablet/desktop) -->
  <form:SimpleForm
      id="headerSimpleForm"
      editable="true"
      layout="ResponsiveGridLayout"
      class="sapUiSmallMargin"
      labelSpanL="12" labelSpanM="12" labelSpanS="12"
      adjustLabelSpan="false"
      emptySpanL="0" emptySpanM="0" emptySpanS="0"
      columnsL="1" columnsM="1" columnsS="1">

    <!-- Operación de almacén -->
    <Label text="{i18n>header.operacion_almacen}"/>
    <Select id="header_select_clasemov"
            width="90%"
            items="{ClaseMovList>/}"
            selectedKey="{localModel>/Header/claveMov}"
            change="onClaseMovChange"
            beforeOpen="onGetClaseMovList"
            editable="{oDisplayModel>/Header/operacion_almacen}"
            tooltip="{localModel>/Header/claseMov} - {localModel>/selectedKeys/textClaseMov}"
            required="true">
      <core:Item key="{ClaseMovList>ClaveMov}" text="{ClaseMovList>Descripcion}"/>
    </Select>

    <!-- Clase de movimiento (solo lectura / helper) -->
    <Label text="{i18n>header.clase_movimiento}"/>
<!--     <Input id="header_input_clasemov"
           width="90%"
           editable="{oDisplayModel>/Header/claseMov}"
           placeholder="{i18n>header.clase_movimiento_placeholder}"
           value="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/claseMov} + ' - ' + ${localModel>/Header/textClaseMov} }"
           tooltip="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/claseMov} + ' - ' + ${localModel>/Header/textClaseMov} }"/> -->

               <Input id="header_input_clasemov"
           width="90%"
           editable="{oDisplayModel>/Header/claseMov}"
           placeholder="{i18n>header.clase_movimiento_placeholder}"
           value="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/textClaseMov} }"
           tooltip="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/textClaseMov} }"/>

    <!-- Fecha documento -->
    <Label text="{i18n>header.fecha_documento}"/>
    <DatePicker id="header_input_fecha_doc"
                width="90%"
                value="{path: 'localModel>/Header/fecha_doc'}"
                valueFormat="yyyy-MM-dd"
                displayFormat="MMM dd, yyyy"
                editable="{oDisplayModel>/Header/fecha_doc}"/>

    <!-- Fecha contabilización -->
    <Label text="{i18n>header.fecha_contabilizacion}"/>
    <DatePicker id="header_input_fecha_cont"
                width="90%"
                value="{path: 'localModel>/Header/fecha_cont'}"
                valueFormat="yyyy-MM-dd"
                displayFormat="MMM dd, yyyy"
                editable="{oDisplayModel>/Header/fecha_cont}"/>

    <!-- Referencia -->
    <Label text="{i18n>header.referencia}"/>
    <Input id="header_input_referencia"
           width="90%"
           value="{localModel>/Header/referencia}"
           editable="{oDisplayModel>/Header/referencia}"
           submit="onContinueHeader"/>

    <!-- Texto cabecera -->
    <Label text="{i18n>header.texto_cabecera}"/>
    <TextArea id="header_input_fecha_texto_cabecera"
              width="90%"
              value="{localModel>/Header/texto_cabecera}"
              editable="{oDisplayModel>/Header/texto_cabecera}"
              rows="3"
              growing="true"
              growingMaxLines="5"
              maxLength="25"/>
  </form:SimpleForm>

  <!-- Sugerencia: si esta toolbar va en un Page, muévela al "footer" del Page -->
  <Toolbar class="sapUiSmallMarginTop">
    <ToolbarSpacer/>
    <Button text="{i18n>header.cancelar}" type="Reject" press=".onRestartProcess"/>
    <Button text="{i18n>header.continuar}" type="Accept" press=".onContinueHeader"/>
  </Toolbar>
</core:FragmentDefinition>
