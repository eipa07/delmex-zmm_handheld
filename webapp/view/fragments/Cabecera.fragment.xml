<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:i18n="sap.ui.model.resource.ResourceModel"
    xmlns:tnt="sap.tnt"
>
    <VBox class="sapUiSmallMargin">
        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.operacion_almacen}"
                width="7em"
            />
            <Select
            id="header_select_clasemov"
                width="17em"
                items="{ClaseMovList>/}"
                selectedKey="{localModel>/Header/claveMov}"
                change="onClaseMovChange"
                beforeOpen="onGetClaseMovList"
                editable="{oDisplayModel>/Header/operacion_almacen}"
                tooltip="{localModel>/Header/claseMov} - {localModel>/selectedKeys/textClaseMov}"
                required="true"
            >
                <core:Item
                    key="{ClaseMovList>ClaveMov}"
                    text="{ClaseMovList>Descripcion}"
                />
            </Select>


        </HBox>

        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.clase_movimiento}"
                width="7em"
            />
            <Input
                id="header_input_clasemov"
                placeholder="{i18n>header.clase_movimiento_placeholder}"
                width="17em"
                editable="{oDisplayModel>/Header/claseMov}"
                value="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/claseMov} + ' - ' + ${localModel>/Header/textClaseMov} }"
                tooltip="{= ${localModel>/Header/claseMov} === '0' ? '' : ${localModel>/Header/claseMov} + ' - ' + ${localModel>/Header/textClaseMov} }"
            />
        </HBox>

        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.fecha_documento}"
                width="7em"
            />
            <DatePicker
                id="header_input_fecha_doc"
                value="{path: 'localModel>/Header/fecha_doc'}"
                valueFormat="yyyy-MM-dd"
                displayFormat="MMM dd, yyyy"
                width="17em"
                editable="{oDisplayModel>/Header/fecha_doc}"
            />
        </HBox>

        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.fecha_contabilizacion}"
                width="7em"
            />
            <DatePicker
                id="header_input_fecha_cont"
                value="{path: 'localModel>/Header/fecha_cont'}"
                valueFormat="yyyy-MM-dd"
                displayFormat="MMM dd, yyyy"
                width="17em"
                editable="{oDisplayModel>/Header/fecha_cont}"
            />
        </HBox>

        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.referencia}"
                width="7em"
            />
            <Input
                id="header_input_referencia"
                width="17em"
                value="{localModel>/Header/referencia}"
                editable="{oDisplayModel>/Header/referencia}"
                submit="onContinueHeader"
            />
        </HBox>

        <HBox class="sapUiSmallMarginBottom">
            <Label
                text="{i18n>header.texto_cabecera}"
                width="7em"
            />
            <TextArea
                id="header_input_fecha_texto_cabecera"
                width="17em"
                value="{localModel>/Header/texto_cabecera}"
                editable="{oDisplayModel>/Header/texto_cabecera}"
                rows="2"
                maxLength="25"
            />
        </HBox>
    </VBox>

    <Toolbar class="sapUiSmallMarginTop">
        <Button
            text="{i18n>header.continuar}"
            type="Accept"
            press=".onContinueHeader"
        />
        <Button
            text="{i18n>header.cancelar}"
            type="Reject"
            press=".onRestartProcess"
        />
    </Toolbar>
</core:FragmentDefinition>
